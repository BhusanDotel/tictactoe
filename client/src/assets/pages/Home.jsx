import React, { useState, useRef } from "react";
import { useNavigate } from "react-router-dom";
import { CSSTransition } from "react-transition-group";
import "../styles/Home.css";
import "../styles/Transition.css";

function Home() {
  const navigate = useNavigate();
  const [redirectLocalPlay, setRedirectLocalPlay] = useState(false);
  const transitionRef = useRef(null);

  const NavigateToLocalPlay = () => {
    setRedirectLocalPlay(true);
    setTimeout(() => {
      navigate("/playlocal");
    }, 700);
  };

  const NavigateToCreateRoom = () => {
    setRedirectLocalPlay(true);
    navigate("/room");
  };

  return (
    <div className="home-main-container">
      <div className="home-buttons-container">
        <button
          onClick={NavigateToLocalPlay}
          className="home-button localplay-button"
        >
          Play Local
        </button>
        <button
          onClick={NavigateToCreateRoom}
          className="home-button create-room-button"
        >
          Play Online
        </button>
        <div className="home-social-links">
          <svg
            onClick={() => {
              window.open("https://www.instagram.com/bhusan_theog", "_blank");
            }}
            className="insta-icon social-icon"
            width="35"
            height="35"
            viewBox="0 0 35 35"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M11.5758 4.34091C7.5865 4.34091 4.34094 7.58646 4.34094 11.5758V23.1515C4.34094 27.1408 7.5865 30.3864 11.5758 30.3864H23.1515C27.1408 30.3864 30.3864 27.1408 30.3864 23.1515V11.5758C30.3864 7.58646 27.1408 4.34091 23.1515 4.34091H11.5758ZM11.5758 7.23485H23.1515C25.5448 7.23485 27.4925 9.18247 27.4925 11.5758V23.1515C27.4925 25.5448 25.5448 27.4924 23.1515 27.4924H11.5758C9.1825 27.4924 7.23488 25.5448 7.23488 23.1515V11.5758C7.23488 9.18247 9.1825 7.23485 11.5758 7.23485ZM24.5985 8.68182C24.2148 8.68182 23.8467 8.83427 23.5754 9.10563C23.304 9.37699 23.1515 9.74503 23.1515 10.1288C23.1515 10.5126 23.304 10.8806 23.5754 11.152C23.8467 11.4233 24.2148 11.5758 24.5985 11.5758C24.9823 11.5758 25.3503 11.4233 25.6217 11.152C25.893 10.8806 26.0455 10.5126 26.0455 10.1288C26.0455 9.74503 25.893 9.37699 25.6217 9.10563C25.3503 8.83427 24.9823 8.68182 24.5985 8.68182ZM17.3637 10.1288C13.3744 10.1288 10.1288 13.3743 10.1288 17.3636C10.1288 21.3529 13.3744 24.5985 17.3637 24.5985C21.353 24.5985 24.5985 21.3529 24.5985 17.3636C24.5985 13.3743 21.353 10.1288 17.3637 10.1288ZM17.3637 13.0227C19.757 13.0227 21.7046 14.9704 21.7046 17.3636C21.7046 19.7569 19.757 21.7045 17.3637 21.7045C14.9704 21.7045 13.0228 19.7569 13.0228 17.3636C13.0228 14.9704 14.9704 13.0227 17.3637 13.0227Z"
              fill="black"
            />
          </svg>
          <svg
            onClick={() => {
              window.open("https://github.com/BhusanDotel", "_blank");
            }}
            className="github-icon social-icon"
            width="35"
            height="35"
            viewBox="0 0 35 35"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.5455 3.47272C9.8742 3.47272 3.65454 9.69237 3.65454 17.3636C3.65454 23.8727 8.13667 29.3191 14.1792 30.8262C14.1144 30.6387 14.0727 30.4211 14.0727 30.1514V27.7772C13.509 27.7772 12.5644 27.7772 12.3271 27.7772C11.3767 27.7772 10.5317 27.3686 10.1219 26.6092C9.66699 25.7653 9.58827 24.4746 8.4608 23.6851C8.12626 23.4224 8.38092 23.1226 8.7664 23.1631C9.4783 23.3645 10.0687 23.853 10.6243 24.5776C11.1776 25.3034 11.4381 25.4678 12.4718 25.4678C12.973 25.4678 13.7231 25.4389 14.4293 25.3277C14.8089 24.3635 15.4653 23.4756 16.2675 23.0566C11.6418 22.5808 9.43432 20.2796 9.43432 17.1553C9.43432 15.8102 10.0073 14.509 10.9808 13.4128C10.6613 12.3247 10.2597 10.1056 11.1035 9.2606C13.1849 9.2606 14.4431 10.6103 14.7453 10.975C15.7825 10.6196 16.9215 10.4182 18.1184 10.4182C19.3177 10.4182 20.4614 10.6196 21.5009 10.9773C21.7995 10.615 23.059 9.2606 25.1449 9.2606C25.9923 10.1068 25.586 12.3351 25.263 13.4209C26.2307 14.5148 26.8003 15.8125 26.8003 17.1553C26.8003 20.2772 24.5962 22.5773 19.9775 23.0554C21.2485 23.7187 22.1758 25.5824 22.1758 26.9866V30.1514C22.1758 30.2718 22.1491 30.3586 22.1352 30.4616C27.5481 28.5643 31.4364 23.4247 31.4364 17.3636C31.4364 9.69237 25.2167 3.47272 17.5455 3.47272Z"
              fill="black"
            />
          </svg>
          <svg
            onClick={() => {
              window.open(
                "https://www.linkedin.com/in/bhusan-dotel-54a6232a8",
                "_blank"
              );
            }}
            className="linkedin-icon social-icon"
            width="35"
            height="35"
            viewBox="0 0 35 35"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M27.8728 4.63029H7.03646C5.75734 4.63029 4.72131 5.66633 4.72131 6.94545V27.7818C4.72131 29.0609 5.75734 30.097 7.03646 30.097H27.8728C29.1519 30.097 30.188 29.0609 30.188 27.7818V6.94545C30.188 5.66633 29.1519 4.63029 27.8728 4.63029ZM12.7711 25.4667H9.35625V14.4789H12.7711V25.4667ZM11.0289 12.9081C9.92809 12.9081 9.03791 12.0156 9.03791 10.9171C9.03791 9.81855 9.92925 8.92722 11.0289 8.92722C12.1263 8.92722 13.0188 9.81971 13.0188 10.9171C13.0188 12.0156 12.1263 12.9081 11.0289 12.9081ZM25.5623 25.4667H22.1498V20.1233C22.1498 18.8488 22.1266 17.2097 20.3752 17.2097C18.5983 17.2097 18.3251 18.5976 18.3251 20.0307V25.4667H14.9126V14.4789H18.1885V15.9803H18.2349C18.6909 15.1168 19.8045 14.2058 21.4656 14.2058C24.9233 14.2058 25.5623 16.4816 25.5623 19.4403V25.4667Z"
              fill="black"
            />
          </svg>
        </div>
      </div>

      <CSSTransition
        in={redirectLocalPlay}
        timeout={500}
        classNames="fade"
        nodeRef={transitionRef}
        unmountOnExit
      >
        <div className="localplay-transition" ref={transitionRef}></div>
      </CSSTransition>
    </div>
  );
}

export default Home;
